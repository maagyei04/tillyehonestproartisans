"use strict";(self.webpackChunkabesjobconsult=self.webpackChunkabesjobconsult||[]).push([[226],{5226:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var l=a(9950),t=a(1413),r=a(1032),i=a(300),n=a(5195),d=a(4414);function o(){const e=(0,i.wA)(),[s,a]=(0,l.useState)(!1),{userLoggedIn:o,currentUser:m}=(0,r.A)(),[c,u]=(0,l.useState)(null),[b,x]=(0,l.useState)([]),[h,N]=(0,l.useState)({firstName:!1,lastName:!1,email:!1,phoneNumber:!1}),[p,f]=(0,l.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",bio:"",businessField:"",businessLocation:"",passportImage:""}),[g,j]=(0,l.useState)(null),[y,w]=(0,l.useState)(null);(0,l.useEffect)((()=>{(async()=>{if(o&&null!==m&&void 0!==m&&m.uid){const e=await(0,n.VL)(m.uid);u(e),f({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phoneNumber:e.phoneNumber||"",passportImage:e.passportImage||"",businessField:e.businessField||"",businessLocation:e.businessLocation||"",bio:e.bio||""})}})(),(async()=>{try{const e=await(0,n.wV)();x(e)}catch(e){console.error("Error fetching categories:",e)}})()}),[o,m]);const v=e=>{const{name:s,value:a}=e.target;f((e=>({...e,[s]:a})))},k=e=>{N((s=>({...s,[e]:!s[e]})))},C=async s=>{a(!0),s.preventDefault();try{let s={...p};if(g){const a=await(0,n.vA)(m.uid,g,e);s.passportImage=a}await(0,n.AI)(m.uid,s),alert("Profile updated successfully")}catch(l){console.error("Error updating profile:",l),alert("Error updating profile")}finally{a(!1)}};return c?(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-2 md:p-6",children:[(0,d.jsx)("form",{onSubmit:C,children:(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow shadow-lg",children:[(0,d.jsx)("h1",{className:"text-lg font-bold mb-1",children:"Account Information"}),(0,d.jsx)("label",{htmlFor:"profile-upload",className:"font-semibold text-sm text-gray-500",children:"Upload Your Passport Picture (will be used as profile pic)"}),(0,d.jsx)("label",{children:(0,d.jsxs)("div",{className:"flex items-center mb-4 relative overflow-hidden cursor-pointer",children:[y?(0,d.jsx)(t.A,{src:y,className:"h-24 w-24 mr-4"}):(0,d.jsx)(t.A,{src:p.passportImage,className:"h-24 w-24 mr-4"}),(0,d.jsx)("input",{name:"profile-upload",type:"file",id:"profile-upload",className:"hidden",accept:"image/*",onChange:e=>{j(e.target.files[0]),w(URL.createObjectURL(e.target.files[0]))}})]})}),(0,d.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,d.jsxs)("div",{className:"mb-4 mr-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"First Name"}),h.firstName?(0,d.jsx)("input",{type:"text",name:"firstName",value:p.firstName,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"}):(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm font-bold mr-5",children:p.firstName}),(0,d.jsx)("button",{onClick:()=>k("firstName"),className:"text-blue-600",children:"Edit"})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),h.lastName?(0,d.jsx)("input",{type:"text",name:"lastName",value:p.lastName,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"}):(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm font-bold mr-5",children:p.lastName}),(0,d.jsx)("button",{onClick:()=>k("lastName"),className:"text-blue-600",children:"Edit"})]})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),h.email?(0,d.jsx)("input",{type:"email",name:"email",value:p.email,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"}):(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm font-bold",children:p.email}),(0,d.jsx)("button",{onClick:()=>k("email"),className:"text-blue-600",children:"Edit"})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),h.phoneNumber?(0,d.jsx)("input",{type:"tel",name:"phoneNumber",value:p.phoneNumber,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"}):(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm font-bold",children:p.phoneNumber}),(0,d.jsx)("button",{onClick:()=>k("phoneNumber"),className:"text-blue-600",children:"Edit"})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Biography"}),(0,d.jsx)("textarea",{name:"bio",value:p.bio,onChange:v,placeholder:"Talk about yourself and your work",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,d.jsxs)("button",{disabled:s,type:"submit",className:"w-full bg-purple-600 hover:bg-green-600 text-white py-2 rounded-md",children:[!s&&"Update Profile Info",s&&"Please wait..."]})]})}),(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow shadow-lg",children:[(0,d.jsx)("h1",{className:"text-lg font-bold mb-2",children:"Payment Information"}),(0,d.jsx)("p",{className:"text-gray-500 font-bold text-sm mb-2",children:"Adding your mobile money details can help you autofill during the payment process"}),(0,d.jsx)("div",{className:"mb-4 flex-col justify-between items-center bg-gray-200 shadow shadow-lg p-4 rounded-[10px]",children:(0,d.jsxs)("di",{className:"flex flex-row justify-between mb-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"text-black text-sm font-bold",children:[c.firstName," ",c.lastName]}),(0,d.jsxs)("p",{className:"text-gray-600",children:[c.momoNetwork," Mobile Money - ",c.momoNumber]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("button",{className:"text-blue-600",children:(0,d.jsx)("i",{className:"material-icons",children:"edit"})}),(0,d.jsx)("button",{className:"text-red-600",children:(0,d.jsx)("i",{className:"material-icons",children:"delete"})})]})]})})]}),(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow shadow-lg",children:[(0,d.jsx)("h1",{className:"text-lg font-bold mb-4",children:"Images"}),(0,d.jsxs)("ul",{className:"space-y-2",children:[(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:c.passportImage,className:"text-blue-600 hover:underline",children:"PassportPicture"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:c.ghanaCardImage,className:"text-blue-600 hover:underline",children:"GhanaCard"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:c.gaurantorNoteImage,className:"text-blue-600 hover:underline",children:"Guarantor note"})})]})]}),(0,d.jsx)("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow shadow-lg",children:(0,d.jsxs)("form",{onSubmit:C,children:[(0,d.jsx)("h1",{className:"text-lg font-bold mb-4",children:"Business Info"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Update your Business field"}),(0,d.jsx)("select",{name:"businessField",value:p.businessField,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:b.map(((e,s)=>(0,d.jsx)("option",{value:e,children:(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded-full bg-".concat(s%3===0?"blue":s%3===1?"green":"yellow","-500")}),(0,d.jsx)("span",{children:e})]})},s)))})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Location"}),(0,d.jsx)("input",{type:"tel",name:"businessLocation",value:p.businessLocation,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,d.jsxs)("button",{disabled:s,type:"submit",className:"w-full bg-purple-600 hover:bg-green-600 text-white py-2 rounded-md",children:[!s&&"Update Business Info",s&&"Please wait..."]})]})})]}):(0,d.jsx)("div",{children:"Loading..."})}}}]);