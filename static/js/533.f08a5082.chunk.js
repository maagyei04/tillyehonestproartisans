"use strict";(self.webpackChunktillyehonestproartisans=self.webpackChunktillyehonestproartisans||[]).push([[533],{8484:(e,l,t)=>{t.r(l),t.d(l,{default:()=>k});var s=t(9950),r=t(2053),a=t(1320),n=t(2235),o=t(5769),i=t(9780),c=t(9213),d=t(1671),x=t(4075),h=t(1413),m=t(226),u=t(7239),p=t(3266),f=t(3464),v=t(33),g=t(8170),A=t(9739),b=t(5336),j=t(9818),w=t(2628),y=t(6992);const N=s.forwardRef((function(e,l){let{title:t,titleId:r,...a}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},a),t?s.createElement("title",{id:r},t):null,s.createElement("path",{d:"M10.375 2.25a4.125 4.125 0 1 0 0 8.25 4.125 4.125 0 0 0 0-8.25ZM10.375 12a7.125 7.125 0 0 0-7.124 7.247.75.75 0 0 0 .363.63 13.067 13.067 0 0 0 6.761 1.873c2.472 0 4.786-.684 6.76-1.873a.75.75 0 0 0 .364-.63l.001-.12v-.002A7.125 7.125 0 0 0 10.375 12ZM16 9.75a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5h-6Z"}))}));var C=t(4414);function k(){const[e,l]=(0,s.useState)([]),[t,k]=(0,s.useState)({}),[E,I]=(0,s.useState)(!0),[S,R]=(0,s.useState)(!1),[B,P]=(0,s.useState)(!1),[Z,M]=(0,s.useState)(!1),[L,D]=(0,s.useState)(null),[G,T]=(0,s.useState)(null),[U,O]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{const e=await(0,b.iY)();l(e),I(!1)})()}),[]),(0,s.useEffect)((()=>{e.length>0&&(async()=>{for(const l of e){const e=await(0,b.JS)(l.clientId);k((t=>({...t,[l.artisanId]:e})))}})()}),[e]);const Y=()=>{D(null)},J=()=>{R(!0),Y()},X=()=>{P(!0),Y()},q=()=>{M(!0),Y()},z=e=>{O(e)},F=()=>{O(null)};return(0,C.jsxs)("div",{children:[(0,C.jsx)(r.A,{variant:"h4",gutterBottom:!0,className:"font-bold text-xl",children:"Artisans (Users)"}),(0,C.jsx)(a.A,{component:n.A,sx:{marginTop:4,overflowX:"auto"},children:(0,C.jsxs)(o.A,{"aria-label":"responsive table",children:[(0,C.jsx)(i.A,{className:"bg-gray-200",children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(d.A,{children:"Artisan Name"}),(0,C.jsx)(d.A,{children:"Phone Number"}),(0,C.jsx)(d.A,{children:"Email"}),(0,C.jsx)(d.A,{children:"Status"}),(0,C.jsx)(d.A,{children:"Passport"}),(0,C.jsx)(d.A,{children:"Ghana Card"}),(0,C.jsx)(d.A,{children:"Gaurantor"}),(0,C.jsx)(d.A,{children:"Action"})]})}),(0,C.jsx)(x.A,{children:e.length>0?e.map(((e,l)=>(0,C.jsxs)(c.A,{children:[(0,C.jsxs)(d.A,{className:"text-gray-500 flex flex-row font-semibold",children:[(0,C.jsx)(h.A,{src:null===e||void 0===e?void 0:e.passportImage,className:"mr-2 h-10 w-10"}),null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName]}),(0,C.jsx)(d.A,{className:"text-gray-500",children:null===e||void 0===e?void 0:e.phoneNumber}),(0,C.jsx)(d.A,{className:"text-gray-500",children:null===e||void 0===e?void 0:e.email}),(0,C.jsx)(d.A,{className:(null===e||void 0===e||e.status,"text-gray-500 font-semibold"),children:!0===(null===e||void 0===e?void 0:e.status)?"Active":"Blocked"}),(0,C.jsx)(d.A,{className:"text-violet-500",children:(0,C.jsx)("span",{onClick:()=>z(null===e||void 0===e?void 0:e.passportImage),style:{cursor:"pointer"},children:"Passport Image"})}),(0,C.jsx)(d.A,{className:"text-violet-500",children:(0,C.jsx)("span",{onClick:()=>z(null===e||void 0===e?void 0:e.ghanaCardImage),style:{cursor:"pointer"},children:"Ghana Card"})}),(0,C.jsx)(d.A,{className:"text-violet-500",children:(0,C.jsx)("span",{onClick:()=>z(null===e||void 0===e?void 0:e.gaurantorNoteImage),style:{cursor:"pointer"},children:"Gaurantor Note"})}),(0,C.jsxs)(d.A,{children:[(0,C.jsx)(m.A,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:l=>{return t=e,D(l.currentTarget),void T(t);var t},className:"bg-violet-500 hover:bg-green-900 text-white hover:text-white px-2 py-1 rounded",children:"Action"}),(0,C.jsxs)(u.A,{id:"simple-menu",anchorEl:L,keepMounted:!0,open:Boolean(L),onClose:Y,className:"rounded",children:[(0,C.jsx)(p.A,{onClick:J,className:"bg-gray-200 m-1 rounded",children:(0,C.jsxs)("div",{className:"flex flex-row",children:[(0,C.jsx)(w.A,{className:"h-5 w-5 mr-2 text-red-600"}),(0,C.jsx)("p",{className:"font-semibold",children:"Block"})]})}),(0,C.jsx)(p.A,{onClick:X,className:"bg-gray-200 m-1 rounded",children:(0,C.jsxs)("div",{className:"flex flex-row",children:[(0,C.jsx)(y.A,{className:"h-5 w-5 mr-2 text-green-600"}),(0,C.jsx)("p",{className:"font-semibold",children:"Approve"})]})}),(0,C.jsx)(p.A,{onClick:q,className:"bg-gray-200 m-1 rounded",children:(0,C.jsxs)("div",{className:"flex flex-row",children:[(0,C.jsx)(N,{className:"h-5 w-5 mr-2 text-red-600"}),(0,C.jsx)("p",{className:"font-semibold",children:"Delete User"})]})})]})]})]},l))):(0,C.jsx)(c.A,{children:(0,C.jsx)(d.A,{colSpan:6,children:(0,C.jsxs)("div",{className:"flex flex-col items-center justify-center mt-10",children:[(0,C.jsx)(j.A,{className:"h-10",style:{color:"gray"}}),(0,C.jsx)("p",{className:"font-bold text-lg",children:"No artisan has registered yet"}),(0,C.jsx)(r.A,{className:"text-gray-500 mt-2 text-center px-2 md:px-20",children:"You're all set! There are currently no artisans yet. Enjoy your free time or use it to tackle your next task with peace of mind."})]})})})})]})}),(0,C.jsxs)(f.A,{className:"rounded-[20px]",open:S,onClose:()=>R(!1),children:[(0,C.jsx)(v.A,{className:"font-bold text-sm",children:"Are you sure you want to block this Artisan ?"}),(0,C.jsx)(g.A,{children:(0,C.jsx)(r.A,{className:"text-gray-500 text-sm",children:"Artisan won't be able to access this platform with this email anymore. Remember to refresh page after!"})}),(0,C.jsxs)(A.A,{children:[(0,C.jsx)(m.A,{onClick:()=>R(!1),className:"w-full btn bg-gray-300 hover:bg-gray-500 hover:text-white text-black md:ml-4 font-semibold px-3 py-2 rounded-[10px] duration-500",children:"Cancel"}),(0,C.jsx)(m.A,{onClick:async e=>{R(!1),I(!0),e.preventDefault();try{await(0,b.gf)(null===G||void 0===G?void 0:G.artisanId,!1),alert("Artisan has been successfully blocked!")}catch(l){console.error("Error blocking artisan:",l),alert("Error blocking artisan")}finally{I(!1)}},disabled:E,className:"w-full btn bg-violet-600 text-white hover:bg-green-600 hover:text-white md:ml-4 font-semibold px-3 py-2 rounded-[10px] duration-500",children:E?"Please wait...":"Confirm"})]})]}),(0,C.jsxs)(f.A,{className:"rounded-[20px]",open:B,onClose:()=>P(!1),children:[(0,C.jsx)(v.A,{className:"font-bold text-sm",children:"Are you sure you want to approve this Artisan ?"}),(0,C.jsx)(g.A,{children:(0,C.jsx)(r.A,{className:"text-gray-500 text-sm",children:"Artisan will now be able to recieve bookings on this platform \ud83c\udf8a. Remember to refresh page after!"})}),(0,C.jsxs)(A.A,{children:[(0,C.jsx)(m.A,{onClick:()=>P(!1),className:"w-full btn bg-gray-300 hover:bg-gray-500 hover:text-white text-black md:ml-4 font-semibold px-3 py-2 rounded-[10px] duration-500",children:"Cancel"}),(0,C.jsx)(m.A,{onClick:async e=>{P(!1),I(!0),e.preventDefault();try{await(0,b.gf)(null===G||void 0===G?void 0:G.artisanId,!0),alert("Artisan has been successfully approve!")}catch(l){console.error("Error approve artisan:",l),alert("Error approve client")}finally{I(!1)}},disabled:E,className:"w-full btn bg-violet-600 text-white hover:bg-green-600 hover:text-white md:ml-4 font-semibold px-3 py-2 rounded-[10px] duration-500",children:E?"Please wait...":"Confirm"})]})]}),(0,C.jsxs)(f.A,{className:"rounded-[20px]",open:Boolean(U),onClose:F,children:[(0,C.jsx)(v.A,{className:"font-bold text-sm",children:"Image Preview"}),(0,C.jsx)(g.A,{children:U&&(0,C.jsx)("img",{src:U,alt:"Preview",style:{width:"100%",height:"auto"}})}),(0,C.jsx)(A.A,{children:(0,C.jsx)(m.A,{onClick:F,className:"w-full btn bg-gray-300 hover:bg-gray-500 hover:text-white text-black md:ml-4 font-semibold px-3 py-2 rounded-[10px] duration-500",children:"Close"})})]}),(0,C.jsxs)(f.A,{className:"rounded-[20px]",open:Z,onClose:()=>M(!1),children:[(0,C.jsx)(v.A,{className:"font-bold text-sm",children:"Are you sure you want to delete this Artisan ?"}),(0,C.jsx)(g.A,{children:(0,C.jsx)(r.A,{className:"text-gray-500 text-sm",children:"Artisan will be removed from this platform \ud83c\udf8a."})}),(0,C.jsxs)(A.A,{children:[(0,C.jsx)(m.A,{onClick:()=>M(!1),className:"w-full btn bg-gray-300 hover:bg-gray-500 hover:text-white text-black md:ml-4 font-semibold px-3 py-2 rounded-[10px] duration-500",children:"Cancel"}),(0,C.jsx)(m.A,{onClick:async e=>{if(G){M(!1),I(!0),e.preventDefault();try{await(0,b.T)(G.artisanId),console.log("User deletion process completed successfully."),alert("User deletion process completed successfully.")}catch(l){console.error("Error deleting user:",l),alert("Error deleting user: ".concat(l.message))}finally{I(!1)}}else console.error("No artisan selected for deletion")},disabled:E,className:"w-full btn bg-violet-600 text-white hover:bg-green-600 hover:text-white md:ml-4 font-semibold px-3 py-2 rounded-[10px] duration-500",children:E?"Please wait...":"Confirm"})]})]})]})}},7402:(e,l,t)=>{t.d(l,{A:()=>s});const s=t(3511).A},6992:(e,l,t)=>{t.d(l,{A:()=>r});var s=t(9950);const r=s.forwardRef((function(e,l){let{title:t,titleId:r,...a}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},a),t?s.createElement("title",{id:r},t):null,s.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}))},2628:(e,l,t)=>{t.d(l,{A:()=>r});var s=t(9950);const r=s.forwardRef((function(e,l){let{title:t,titleId:r,...a}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},a),t?s.createElement("title",{id:r},t):null,s.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}))}}]);