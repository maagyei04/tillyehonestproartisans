"use strict";(self.webpackChunkabesjobconsult=self.webpackChunkabesjobconsult||[]).push([[463],{9463:(e,a,l)=>{l.r(a),l.d(a,{default:()=>n});var s=l(9950),r=l(1413),t=l(1032),i=l(5195),o=l(300),d=l(4414);function n(){const e=(0,o.wA)(),[a,l]=(0,s.useState)(!1),{userLoggedIn:n,currentUser:m}=(0,t.A)(),[c,u]=(0,s.useState)(null),[h,p]=(0,s.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",profilePic:""}),[f,x]=(0,s.useState)(null),[b,N]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{if(n&&null!==m&&void 0!==m&&m.uid){const e=await(0,i.Se)(m.uid);u(e),p({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phoneNumber:e.phoneNumber||"",profilePic:e.profilePic||""})}})()}),[n,m]);const g=e=>{const{name:a,value:l}=e.target;p((e=>({...e,[a]:l})))};return c?(0,d.jsxs)("div",{className:"border border-gray-200 rounded-[10px] p-5 w-auto flex-col shadow shadow-lg bg-white",children:[(0,d.jsx)("h1",{className:"text-xl font-bold text-left mb-2",children:"Account Information"}),(0,d.jsx)("label",{htmlFor:"profile-upload",className:"font-semibold text-sm text-gray-500",children:"Upload Your Profile Picture"}),(0,d.jsx)("label",{children:(0,d.jsxs)("div",{className:"relative overflow-hidden cursor-pointer",children:[b?(0,d.jsx)(r.A,{src:b,className:"h-[150px] w-[150px]"}):(0,d.jsx)(r.A,{src:h.profilePic,className:"h-[150px] w-[150px]"}),(0,d.jsx)("input",{name:"profile-upload",type:"file",id:"profile-upload",className:"hidden",accept:"image/*",onChange:e=>{x(e.target.files[0]),N(URL.createObjectURL(e.target.files[0]))}})]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:async a=>{l(!0),a.preventDefault();try{let a={...h};if(f){const l=await(0,i.zN)(m.uid,f,e);a.profilePic=l}await(0,i.HG)(m.uid,a),alert("Profile updated successfully")}catch(s){console.error("Error updating profile:",s),alert("Error updating profile")}finally{l(!1)}},children:[(0,d.jsxs)("div",{className:"flex flex-col mb-5 w-full shadow shadow-lg",children:[(0,d.jsx)("label",{className:"mb-2",htmlFor:"firstName",children:"First Name"}),(0,d.jsx)("input",{className:"border border-gray-300 rounded-[10px] h-10 p-2",type:"text",id:"firstName",name:"firstName",value:h.firstName,onChange:g,required:!0})]}),(0,d.jsxs)("div",{className:"flex flex-col mb-5 w-full shadow shadow-lg",children:[(0,d.jsx)("label",{className:"mb-2",htmlFor:"lastName",children:"Last Name"}),(0,d.jsx)("input",{className:"border border-gray-300 rounded-[10px] h-10 p-2",type:"text",id:"lastName",name:"lastName",value:h.lastName,onChange:g,required:!0})]}),(0,d.jsxs)("div",{className:"flex flex-col mb-5 w-full shadow shadow-lg",children:[(0,d.jsx)("label",{className:"mb-2",htmlFor:"email",children:"Email Address"}),(0,d.jsx)("input",{className:"border border-gray-300 rounded-[10px] h-10 p-2",type:"text",id:"email",name:"email",value:h.email,onChange:g,required:!0})]}),(0,d.jsxs)("div",{className:"flex flex-col mb-5 w-full shadow shadow-lg",children:[(0,d.jsx)("label",{className:"mb-2",htmlFor:"phoneNumber",children:"Phone Number"}),(0,d.jsx)("input",{className:"border border-gray-300 rounded-[10px] h-10 p-2",type:"text",id:"phoneNumber",name:"phoneNumber",value:h.phoneNumber,onChange:g,required:!0})]}),(0,d.jsxs)("button",{disabled:a,className:"my-5 w-full btn bg-violet-600 hover:bg-green-600 text-white md:ml-4 font-semibold px-3 py-2 rounded-[10px] duration-500",type:"submit",children:[!a&&"Update Profile",a&&"Please wait..."]})]})})]}):(0,d.jsx)("div",{children:"Loading..."})}}}]);