"use strict";(self.webpackChunktillyehonestproartisans=self.webpackChunktillyehonestproartisans||[]).push([[740],{1740:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(9950),l=t(899),n=t(6491),o=t(2053),i=t(5195),r=t(1032),c=t(2074),d=t(9818),x=t(4414);const m={backgroundColor:"white",padding:"16px",margin:"8px 0",borderRadius:"10px"};function h(){const{userLoggedIn:e,currentUser:s}=(0,r.A)(),[t,h]=(0,a.useState)(null),[p,f]=(0,a.useState)([]),[u,j]=(0,a.useState)([]),[b,g]=(0,a.useState)({});(0,a.useEffect)((()=>{(async()=>{if(e&&null!==s&&void 0!==s&&s.uid){const e=await(0,i.Se)(s.uid);h(e)}})(),(async()=>{if(e&&null!==s&&void 0!==s&&s.uid){const e=await(0,i.JS)(s.uid);f(e)}})(),(async()=>{if(e&&null!==s&&void 0!==s&&s.uid){const e=await(0,i.EV)(3,s.uid);j(e)}})()}),[e,s]),(0,a.useEffect)((()=>{(async()=>{const e={};for(const s of u)if(!e[s.bookingArtisanId]){const t=await(0,i.VL)(s.bookingArtisanId);e[s.bookingArtisanId]=t.firstName}g(e)})()}),[u]);const N=[];let y=0;const w=[],A=[];return p.forEach((e=>{const s=e;"complete"===s.bookingStatusClient&&"complete"===s.bookingStatusArtisan&&N.push(s),"complete"===s.bookingPayment&&"0"!==s.bookingEstimateAmount&&(y+=s.bookingEstimateAmount)})),u.forEach((e=>{0!==e.bookingEstimateAmount&&"half"!==e.bookingPayment&&w.push(e)})),u.forEach((e=>{100===e.bookingEstimateAmount&&A.push(e)})),(0,x.jsxs)("div",{children:[(0,x.jsxs)("h1",{className:"font-bold text-2xl",children:["Hi ",t?t.firstName:"","!"]}),(0,x.jsxs)(l.Ay,{container:!0,className:"flex flex-col md:flex-row",children:[(0,x.jsxs)(l.Ay,{item:!0,xs:12,md:8,className:"p-2",children:[(0,x.jsx)("p",{className:"text-sm text-gray-500",children:"Here, you'll find everything you need to manage your bookings and appointments with ease. From scheduling your next consultation to tracking the progress of your project, our platform puts you in control every step of the way."}),(0,x.jsxs)(n.A,{className:"flex flex-col h-full",children:[(0,x.jsxs)(n.A,{className:"flex flex-col md:flex-row justify-between mb-2",children:[(0,x.jsxs)(n.A,{className:"shadow-xl shadow-black-600",sx:{...m,flex:1,mr:2},children:[(0,x.jsx)("p",{className:"mb-2",children:"Total Appointments"}),(0,x.jsx)("p",{className:"mb-2 font-bold",children:p.length}),(0,x.jsxs)("p",{className:"text-sm text-gray-500",children:[(0,x.jsx)("span",{className:"text-blue-700",children:"Approved"})," appointments"]})]}),(0,x.jsxs)(n.A,{className:"shadow-xl shadow-black-600",sx:{...m,flex:1,mr:2},children:[(0,x.jsx)("p",{className:"mb-2",children:"Completed Appointments"}),(0,x.jsx)("p",{className:"mb-2 font-bold",children:N.length}),(0,x.jsxs)("p",{className:"text-sm text-gray-500",children:["Audited and ",(0,x.jsx)("span",{className:"text-blue-700",children:"paid"})," services"]})]}),(0,x.jsxs)(n.A,{className:"shadow-xl shadow-black-600",sx:{...m,flex:1,mr:2},children:[(0,x.jsx)("p",{className:"mb-2",children:"Total Amount Paid"}),(0,x.jsx)("p",{className:"text-xl text-gray-500",children:(0,x.jsxs)("span",{className:"text-green-500",children:["GHC ",y,".00"]})})]})]}),(0,x.jsxs)(n.A,{className:"shadow-xl shadow-black-600 flex-1",sx:m,children:[(0,x.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)(o.A,{className:"text-l font-bold",gutterBottom:!0,children:"Appointments in Progress"}),(0,x.jsx)("p",{className:"text-sm text-gray-500 mb-5",children:"Approved appointments that the artisan is currently working on"})]}),(0,x.jsx)("div",{children:(0,x.jsx)("p",{className:"text-blue-600",children:(0,x.jsx)(c.N_,{to:"/client_dashboard/appointments",children:"See All"})})})]}),w.length>0?w.map(((e,s)=>(0,x.jsxs)(n.A,{className:"p-2 rounded-[10px] border border-gray-300 mb-2",children:[(0,x.jsxs)("div",{className:"flex justify-between mb-5",children:[(0,x.jsx)("div",{className:"flex flex-row",children:(0,x.jsx)("p",{className:"font-bold",children:b[e.bookingArtisanId]})}),(0,x.jsx)("div",{className:"bg-green-300 rounded-[10px] px-4",children:(0,x.jsx)("p",{className:"text-green-700",children:"In Progress"})})]}),(0,x.jsxs)("div",{className:"flex flex-row justify-between text-left",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-gray-500",children:"Job Description"}),(0,x.jsx)("p",{className:"font-bold text-sm truncate max-w-full",children:e.bookingServiceDetail})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-gray-500",children:"Expected Date"}),(0,x.jsx)("p",{className:"font-bold text-sm",children:e.bookingStartDate})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-gray-500",children:"Total Estimate"}),(0,x.jsxs)("p",{className:"font-bold text-sm",children:["GHC ",e.bookingEstimateAmount,".00"]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-gray-500",children:"Location"}),(0,x.jsxs)("p",{className:"font-bold text-sm",children:[e.bookingTown," ",e.bookingRegion]})]})]})]},s))):(0,x.jsxs)(n.A,{className:"flex flex-col items-center justify-center mt-10",children:[(0,x.jsx)(d.A,{className:"h-20",style:{color:"gray"}}),(0,x.jsx)("p",{className:"font-bold text-lg",children:"You\u2019ve no pending appointments yet"}),(0,x.jsx)(o.A,{className:"text-gray-500 mt-2 text-center px-2 md:px-20",children:"You're all set! There are currently no pending appointments for you. Enjoy your free time or use it to tackle your next task with peace of mind."})]})]})]})]}),(0,x.jsxs)(l.Ay,{item:!0,xs:12,md:4,className:"flex flex-col p-2",children:[(0,x.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,x.jsx)("div",{children:(0,x.jsx)(o.A,{className:"text-l font-bold",gutterBottom:!0,children:"New Appointments"})}),(0,x.jsx)("div",{children:(0,x.jsx)("p",{className:"text-blue-600",children:(0,x.jsx)(c.N_,{to:"/client_dashboard/appointments",children:"See All"})})})]}),(0,x.jsx)(o.A,{variant:"body1",className:"text-gray-500",gutterBottom:!0,children:"Latest appointment listing that is yet to be approved. You\u2019re either waiting for an estimate from a artisan or you are ready to make payment."}),A.length>0?A.map(((e,s)=>(0,x.jsxs)(n.A,{className:"mb-2 shadow-xl shadow-black-600",sx:m,children:[(0,x.jsx)("div",{className:"flex flex-row mb-2",children:(0,x.jsx)("p",{className:"text-sm font-semibold",children:b[e.bookingArtisanId]})}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("p",{className:"text-gray-500",children:"Job Description"}),(0,x.jsx)("p",{className:"font-bold text-sm truncate max-w-full",children:e.bookingServiceDetail})]}),(0,x.jsxs)("div",{className:"flex flex-col mb-2",children:[(0,x.jsx)("p",{className:"text-gray-500",children:"Estimated Date"}),(0,x.jsx)("p",{className:"font-bold text-sm",children:e.bookingStartDate})]}),(0,x.jsx)("div",{className:"bg-gray-300 w-auto text-center rounded p-2",children:(0,x.jsx)("p",{className:"text-red-600",children:"Waiting For Estimate"})})]}))):(0,x.jsxs)(n.A,{className:"mb-2 shadow-xl flex flex-col items-center shadow-black-600",sx:m,children:[(0,x.jsx)(d.A,{className:"h-20",style:{color:"gray"}}),(0,x.jsx)("p",{className:"font-bold text-lg",children:"No new Appointments"}),(0,x.jsx)(o.A,{className:"text-gray-500 mt-2 text-center px-2",children:"You're all set! There are currently no new appointments for you. Enjoy your free time or use it to tackle your next task with peace of mind."})]})]})]})]})}},9818:(e,s,t)=>{t.d(s,{A:()=>l});var a=t(9950);const l=a.forwardRef((function(e,s){let{title:t,titleId:l,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},n),t?a.createElement("title",{id:l},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}))}}]);